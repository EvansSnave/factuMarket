<h1 class="page-title">Historial de eventos</h1>

<div class="section-card">
  <%= render "get_bill_events" %>
</div>

<% if defined?(@events) && @events.present? %>
  <div class="events-container">
    <% @events.each do |event| %>
      <div class="event-card">
        
        <div class="event-section">
          <% if event.payload.present? %>
            <h3 class="event-subtitle">Factura</h3>

            <p><strong>ID:</strong> <%= event.payload[:id] %></p>
            <p><strong>ID del cliente:</strong> <%= event.payload[:user_id] %></p>
            <p><strong>Descripcion:</strong> <%= event.payload[:description] %></p>
            <p><strong>Cantidad:</strong> <%= event.payload[:amount] %></p>
            <p><strong>Producto:</strong> <%= event.payload[:product] %></p>
            <p><strong>Fecha:</strong> <%= event.payload[:date] %></p>
          <% else %>
            <p class="no-info">No hay informacion sobre la factura en este evento</p>
          <% end %>
        </div>

        <div class="event-section">
          <h3 class="event-subtitle">Detalles del evento</h3>
          <p><strong>Descripci√≥n:</strong> <%= event.description %></p>
          <p><strong>Tipo:</strong> <%= event.type %></p>
        </div>

      </div>
    <% end %>
  </div>
<% end %>
